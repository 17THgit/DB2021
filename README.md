# DB-project 11 team KCR

프로젝트 주제 : COVID-19 감염자 데이터베이스

기획 의도 : 요즘 코로나19 감염자가 폭증하고 있는 상황에서 감염자들의 데이터를 저장하여 관리하는 시스템이 있으면 편리할 것 같아 만들게 되었습니다.

프로젝트 설명 : 저희 11팀 KCR은 KNU Covid-19 Reserch로 기획 의도와 같이 코로나 감염자들의 데이터를 저장하여 관리하는 시스템을 만들어 모든 사용자들이 코로나19 감염자들의 정보를 편하게 볼 수 있게 만드는 것이 목적입니다.( 개념적 설계만 진행된 관계로 추후 업데이트 예정)

ER 다이어그램 : ER 다이어그램은 총 7개의 Entity로 구성되어 있으며 그중 3개의 Weak Entity를 포함하고 있습니다.

Entity 설명 :

PATIENT : 코로나19 감염된 환자들의 정보로 이름, 주민번호, 성별, 전화번호 그리고 나이로 구성되어 있습니다. 환자가 치료받는 병원, 환자가 거주하고 있는 지역, 환자의 최근 이동경로, 환자의 완치 여부, 환자의 증상 그리고 환자의 주변 사람들과 관계가 되어있습니다.

1. REGION : 코로나19 감염된 환자의 위치정보이며 지역 고유번호, 시 그리고 구로 구성되어 있습니다. 그 지역에 존재하는 병원들과 환자가 거주했던 곳과 관계가 되어있습니다.
2. HOSPITAL : 환자들을 치료하는 병원으로 병원 고유번호, 병원 이름, 병원 전화번호 그리고 병원 주소로 구성되어 있습니다. 지역단위로 병원이 있기에 지역과 관계돼있고, 입원한 환자들과 관계가 되어있습니다.
3. RECOVERY : 환자가 완치됐는지 확인을 하는 Entity로 환자가 있어야 치료가 이루어질 수 있기 때문에 Weak Entity로 구성했습니다. 치료 번호와 치료방법들이 속성으로 있으며 환자와 관계가 되어있습니다. 또한 완치된 날짜를 기록하기 위하여 관계 GET에 finish_date의 속성을 추가하였습니다.
4. SYMPTOM : 감염의 증상으로 증상의 이름으로 구성되어 있으며 예를 들면 목 아픔, 몸살, 기침 등이 있습니다. 감염 증상이기에 환자와 관계되어 있습니다. 또한 증상이 시작된 날짜를 기록하기 위하여 관계 HAS에 start_date의 속성을 추가하였습니다.
5. PATH : 환자의 최근 이동경로를 기록하는 Entity로 경로 고유번호와 장소로 구성되어 있습니다. 환자가 없으면 환자의 이동경로는 존재할 수 없기에 Weak Entity로 구성했습니다. 환자의 이동경로를 기록하기에 환자와 관계되어 있습니다.
6. BUBBLE : 환자가 감였됐을 당시의 주변 사람들(소모임) 그리고 환자의 주변인들을 확인하는 Entity로 주민번호, 이름, 성별 그리고 나이를 구성하고 있으며 환자의 주변 사람들이니 환자가 없으면 존재할 수 없기에 Weak Entity로 구성하였습니다. 환자의 주변 사람들이기에 환자와 관계되어 있습니다

기능 설명
실행시 보라색 바탕의 메인 페이지가 나타나면 성공입니다.
유저 모드와 관리자용 모드가 분리되어 있습니다.
관리자용 모드로 접속시 비밀번호(1234) 입력 후 DB에 접근하여 insert, delete, update를 수행할 수 있습니다.
유저 모드로는 전체/오늘의 환자 및 완치자 수, 환자 정보 검색, 도시별 환자 수, 그 외 쿼리들을 검색해볼 수 있습니다.
그 외 쿼리들을 실행 시 모든 쿼리 결과가 출력되므로 정보의 양이 많습니다.

유의 사항
1. eclipse EE를 통해 dynamic web project로 Team11-Phase4를 새로 만든 후 Team11-Phase4의 구성 요소들을 복사 후 붙여넣기하고 external library로 본인 경로의 ojdbc.8 추가 후 main.html을 실행합니다.
2. 실행 전 DB에 접근하는 모든 jsp 파일들에 작성된 (xe, orcl), DB 이름, 비밀번호를 개인의 환경에 맞게 설정해 주어야 합니다.
3. 환자 정보의 도시 이름과 환자 이름은 각각 따로 쿼리문을 실행합니다. 즉, 환자 정보 검색과 도시 확진자 수 검색은 별개입니다.
4. 관리자 계정 비밀번호는 adminlogin.html에서 변경할 수 있습니다. (Default:1234)
5. 데이터 삽입/수정/삭제 시 환자증상여부의 Start date 와 완치정보의 Finish date 는 YY/MM/DD 형식으로 작성해야 합니다.
6. txt 파일을 이용해 데이터를 처음 삽입할 때의 기능은 처음 한 번만 실행해야 합니다. txt 파일에 CREATE TABLE, ALTER TABLE 등의 기능이 구현되어 있으므로 두 번 이상 실행시 에러가 발생합니다.

Application 제작 환경
팀원 중 2명은 Mac, 1명은 Windows를 이용해 제작하였으며, 최종 구동은 Mac 상에서 확인하였습니다.
